<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Moderno (ES6+) - Academia de Programación</title>
    <meta name="description" content="Aprende las características modernas de JavaScript ES6+ incluyendo let/const, arrow functions, template literals, destructuring, spread operator y más.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fab fa-js-square"></i>
                    <span>JavaScript Academy</span>
                </div>
                <nav class="nav">
                    <a href="index.html" class="nav-link">Inicio</a>
                    <a href="index.html#modules" class="nav-link">Módulos</a>
                    <a href="index.html#projects" class="nav-link">Proyectos</a>
                    <a href="index.html#contact" class="nav-link">Contacto</a>
                </nav>
                <button class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <nav class="breadcrumbs">
        <div class="container">
            <a href="index.html">Inicio</a>
            <span class="separator">></span>
            <a href="index.html#modules">Módulos</a>
            <span class="separator">></span>
            <span id="current-page">JavaScript Moderno (ES6+)</span>
        </div>
    </nav>

    <!-- Barra de Progreso -->
    <section class="progress-bar-section">
        <div class="container">
            <div class="progress-container">
                <div class="progress-info">
                    <i class="fas fa-chart-line"></i>
                    <span class="progress-label">Progreso del Módulo</span>
                    <span class="progress-percentage">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="moduleProgress"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero del Módulo -->
    <section class="module-hero">
        <div class="container">
            <div class="module-header">
                <div class="module-badge">
                    <i class="fas fa-rocket"></i>
                    <span>Módulo 2</span>
                </div>
                <h1>JavaScript Moderno (ES6+)</h1>
                <p class="module-description">
                    Domina las características modernas de JavaScript que revolucionaron el desarrollo web. 
                    Aprende ES6+ con ejemplos prácticos y ejercicios interactivos.
                </p>
                <div class="module-meta">
                    <div class="meta-item">
                        <i class="fas fa-clock"></i>
                        <span>4-6 horas</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-code"></i>
                        <span>15+ ejemplos</span>
                    </div>
                    <div class="meta-item">
                        <i class="fas fa-star"></i>
                        <span>Intermedio</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Navegación del Módulo -->
    <section class="module-nav">
        <div class="container">
            <div class="module-nav-content">
                <h3>📚 Lecciones del Módulo</h3>
                <div class="module-nav-list">
                    <a href="#let-const" class="nav-item" data-section="let-const">
                        <div class="nav-item-icon">
                            <i class="fas fa-tag"></i>
                        </div>
                        <div class="nav-item-content">
                            <span class="nav-item-title">Let, Const y Var</span>
                            <span class="nav-item-desc">Declaraciones modernas de variables</span>
                        </div>
                        <div class="nav-item-status">
                            <i class="far fa-circle"></i>
                        </div>
                    </a>
                    <a href="#arrow-functions" class="nav-item" data-section="arrow-functions">
                        <div class="nav-item-icon">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="nav-item-content">
                            <span class="nav-item-title">Arrow Functions</span>
                            <span class="nav-item-desc">Sintaxis moderna de funciones</span>
                        </div>
                        <div class="nav-item-status">
                            <i class="far fa-circle"></i>
                        </div>
                    </a>
                    <a href="#template-literals" class="nav-item" data-section="template-literals">
                        <div class="nav-item-icon">
                            <i class="fas fa-quote-left"></i>
                        </div>
                        <div class="nav-item-content">
                            <span class="nav-item-title">Template Literals</span>
                            <span class="nav-item-desc">Strings modernos con interpolación</span>
                        </div>
                        <div class="nav-item-status">
                            <i class="far fa-circle"></i>
                        </div>
                    </a>
                    <a href="#destructuring" class="nav-item" data-section="destructuring">
                        <div class="nav-item-icon">
                            <i class="fas fa-unpack"></i>
                        </div>
                        <div class="nav-item-content">
                            <span class="nav-item-title">Destructuring</span>
                            <span class="nav-item-desc">Extracción elegante de datos</span>
                        </div>
                        <div class="nav-item-status">
                            <i class="far fa-circle"></i>
                        </div>
                    </a>
                    <a href="#spread-rest" class="nav-item" data-section="spread-rest">
                        <div class="nav-item-icon">
                            <i class="fas fa-expand-arrows-alt"></i>
                        </div>
                        <div class="nav-item-content">
                            <span class="nav-item-title">Spread & Rest</span>
                            <span class="nav-item-desc">Operadores de expansión</span>
                        </div>
                        <div class="nav-item-status">
                            <i class="far fa-circle"></i>
                        </div>
                    </a>
                    <a href="#modules" class="nav-item" data-section="modules">
                        <div class="nav-item-icon">
                            <i class="fas fa-puzzle-piece"></i>
                        </div>
                        <div class="nav-item-content">
                            <span class="nav-item-title">Módulos ES6</span>
                            <span class="nav-item-desc">Import/Export moderno</span>
                        </div>
                        <div class="nav-item-status">
                            <i class="far fa-circle"></i>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Lección 1: Let, Const y Var -->
    <section id="let-const" class="lesson-section" data-lesson="let-const">
        <div class="container">
            <div class="lesson-header">
                <div class="lesson-badge">
                    <i class="fas fa-tag"></i>
                    <span>Lección 1</span>
                </div>
                <h2>Let, Const y Var</h2>
                <p class="lesson-intro">Las declaraciones modernas de variables que cambiaron JavaScript para siempre. Entiende las diferencias y cuándo usar cada una.</p>
                
                <div class="key-points">
                    <h4>🎯 Puntos Clave</h4>
                    <div class="key-points-grid">
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Scope de bloque vs función</span>
                        </div>
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Hoisting y temporal dead zone</span>
                        </div>
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Inmutabilidad con const</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lesson-content">
                <div class="theory-section">
                    <div class="section-toggle" onclick="toggleSection('let-const-theory')">
                        <h3><i class="fas fa-book"></i> Teoría</h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div id="let-const-theory" class="theory-content collapsed">
                        <div class="theory-grid">
                            <div class="theory-card">
                                <h4><i class="fas fa-tag"></i> Declaraciones de Variables</h4>
                                <div class="theory-list">
                                    <div class="theory-item clickable" onclick="openModal('var-modal')">
                                        <code>var</code>
                                        <span>Scope de función, se puede redeclarar</span>
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="theory-item clickable" onclick="openModal('let-modal')">
                                        <code>let</code>
                                        <span>Scope de bloque, no se puede redeclarar</span>
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="theory-item clickable" onclick="openModal('const-modal')">
                                        <code>const</code>
                                        <span>Scope de bloque, valor inmutable</span>
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="theory-card">
                                <h4><i class="fas fa-exclamation-triangle"></i> Diferencias Importantes</h4>
                                <div class="theory-list">
                                    <div class="theory-item clickable" onclick="openModal('hoisting-modal')">
                                        <code>Hoisting</code>
                                        <span>var se eleva, let/const no</span>
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="theory-item clickable" onclick="openModal('tdz-modal')">
                                        <code>TDZ</code>
                                        <span>Temporal Dead Zone en let/const</span>
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="theory-item clickable" onclick="openModal('scope-modal')">
                                        <code>Scope</code>
                                        <span>Bloque vs función</span>
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="example-section">
                    <div class="section-toggle" onclick="toggleSection('let-const-example')">
                        <h3><i class="fas fa-code"></i> Ejemplo Práctico</h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div id="let-const-example" class="example-content collapsed">
                        <div class="example-tabs">
                            <button class="tab-btn active" onclick="showExampleTab('let-const', 'basic')">Básico</button>
                            <button class="tab-btn" onclick="showExampleTab('let-const', 'advanced')">Avanzado</button>
                            <button class="tab-btn" onclick="showExampleTab('let-const', 'interactive')">Interactivo</button>
                        </div>

                        <div id="let-const-basic" class="example-tab-content active">
                            <div class="code-example">
                                <div class="code-header">
                                    <span class="code-title">Declaraciones Básicas</span>
                                    <button class="btn btn-sm btn-primary" onclick="runCode('let-const-basic-code')">
                                        <i class="fas fa-play"></i> Ejecutar
                                    </button>
                                </div>
                                <div class="code-block">
                                    <pre><code class="language-javascript" id="let-const-basic-code">// Declaraciones modernas
let nombre = "Ana";
const edad = 25;
var ciudad = "Madrid"; // Evitar usar var

// Scope de bloque
if (true) {
    let bloqueVariable = "Solo en este bloque";
    const bloqueConstante = "También solo aquí";
    var funcionVariable = "Accesible fuera del bloque";
}

console.log("Nombre:", nombre);
console.log("Edad:", edad);
console.log("Ciudad:", ciudad);
// console.log(bloqueVariable); // Error: no definida
console.log("Variable de función:", funcionVariable);</code></pre>
                                </div>
                                <div class="code-output" id="let-const-basic-output"></div>
                            </div>
                        </div>

                        <div id="let-const-advanced" class="example-tab-content">
                            <div class="code-example">
                                <div class="code-header">
                                    <span class="code-title">Hoisting y Temporal Dead Zone</span>
                                    <button class="btn btn-sm btn-primary" onclick="runCode('let-const-advanced-code')">
                                        <i class="fas fa-play"></i> Ejecutar
                                    </button>
                                </div>
                                <div class="code-block">
                                    <pre><code class="language-javascript" id="let-const-advanced-code">// Hoisting con var
console.log("Var antes:", varVariable); // undefined (no error)
var varVariable = "Soy var";

// Temporal Dead Zone con let/const
try {
    console.log("Let antes:", letVariable); // Error!
} catch (e) {
    console.log("Error TDZ:", e.message);
}
let letVariable = "Soy let";

// Const con objetos
const usuario = {
    nombre: "Carlos",
    edad: 30
};

usuario.edad = 31; // ✅ Permitido (propiedad mutable)
// usuario = {}; // ❌ Error (reasignación no permitida)

console.log("Usuario:", usuario);</code></pre>
                                </div>
                                <div class="code-output" id="let-const-advanced-output"></div>
                            </div>
                        </div>

                        <div id="let-const-interactive" class="example-tab-content">
                            <div class="interactive-example">
                                <h4>🎮 Prueba el Scope</h4>
                                <div class="interactive-content">
                                    <div class="input-group">
                                        <label>Variable:</label>
                                        <select id="interactive-var-type">
                                            <option value="var">var</option>
                                            <option value="let">let</option>
                                            <option value="const">const</option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <label>Valor:</label>
                                        <input type="text" id="interactive-var-value" placeholder="Valor de la variable" value="Hola Mundo">
                                    </div>
                                    <button class="btn btn-primary" onclick="testVariableScope()">
                                        <i class="fas fa-flask"></i> Probar Scope
                                    </button>
                                    <div class="interactive-output" id="interactive-output"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lesson-summary">
                    <h4>📝 Resumen</h4>
                    <div class="summary-content">
                        <p>En esta lección aprendiste sobre:</p>
                        <ul>
                            <li>Las diferencias entre <code>var</code>, <code>let</code> y <code>const</code></li>
                            <li>El concepto de scope de bloque vs función</li>
                            <li>Hoisting y Temporal Dead Zone</li>
                            <li>Cuándo usar cada tipo de declaración</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Lección 2: Arrow Functions -->
    <section id="arrow-functions" class="lesson-section bg-light" data-lesson="arrow-functions">
        <div class="container">
            <div class="lesson-header">
                <div class="lesson-badge">
                    <i class="fas fa-arrow-right"></i>
                    <span>Lección 2</span>
                </div>
                <h2>Arrow Functions</h2>
                <p class="lesson-intro">La sintaxis moderna y concisa para escribir funciones en JavaScript. Más legible, menos código.</p>
                
                <div class="key-points">
                    <h4>🎯 Puntos Clave</h4>
                    <div class="key-points-grid">
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Sintaxis concisa</span>
                        </div>
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>No tienen su propio 'this'</span>
                        </div>
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Return implícito</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lesson-content">
                <div class="theory-section">
                    <div class="section-toggle" onclick="toggleSection('arrow-functions-theory')">
                        <h3><i class="fas fa-book"></i> Teoría</h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div id="arrow-functions-theory" class="theory-content collapsed">
                        <div class="theory-grid">
                            <div class="theory-card">
                                <h4><i class="fas fa-arrow-right"></i> Sintaxis Arrow Functions</h4>
                                <div class="theory-list">
                                    <div class="theory-item">
                                        <code>() => {}</code>
                                        <span>Sin parámetros</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>x => x * 2</code>
                                        <span>Un parámetro, return implícito</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>(a, b) => a + b</code>
                                        <span>Múltiples parámetros</span>
                                    </div>
                                </div>
                            </div>

                            <div class="theory-card">
                                <h4><i class="fas fa-exclamation-triangle"></i> Diferencias con Function</h4>
                                <div class="theory-list">
                                    <div class="theory-item">
                                        <code>this</code>
                                        <span>No tienen su propio contexto</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>arguments</code>
                                        <span>No tienen objeto arguments</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>constructor</code>
                                        <span>No pueden ser constructores</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="example-section">
                    <div class="section-toggle" onclick="toggleSection('arrow-functions-example')">
                        <h3><i class="fas fa-code"></i> Ejemplo Práctico</h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div id="arrow-functions-example" class="example-content collapsed">
                        <div class="example-tabs">
                            <button class="tab-btn active" onclick="showExampleTab('arrow-functions', 'basic')">Básico</button>
                            <button class="tab-btn" onclick="showExampleTab('arrow-functions', 'advanced')">Avanzado</button>
                            <button class="tab-btn" onclick="showExampleTab('arrow-functions', 'interactive')">Interactivo</button>
                        </div>

                        <div id="arrow-functions-basic" class="example-tab-content active">
                            <div class="code-example">
                                <div class="code-header">
                                    <span class="code-title">Sintaxis Básica</span>
                                    <button class="btn btn-sm btn-primary" onclick="runCode('arrow-functions-basic-code')">
                                        <i class="fas fa-play"></i> Ejecutar
                                    </button>
                                </div>
                                <div class="code-block">
                                    <pre><code class="language-javascript" id="arrow-functions-basic-code">// Función tradicional
function sumar(a, b) {
    return a + b;
}

// Arrow function equivalente
const sumarArrow = (a, b) => a + b;

// Con un solo parámetro (sin paréntesis)
const duplicar = x => x * 2;

// Sin parámetros
const saludar = () => "Hola mundo";

// Con múltiples líneas
const procesarDatos = (datos) => {
    const resultado = datos.map(item => item * 2);
    return resultado.filter(item => item > 10);
};

console.log("Suma tradicional:", sumar(5, 3));
console.log("Suma arrow:", sumarArrow(5, 3));
console.log("Duplicar:", duplicar(7));
console.log("Saludar:", saludar());
console.log("Procesar:", procesarDatos([1, 5, 8, 12]));</code></pre>
                                </div>
                                <div class="code-output" id="arrow-functions-basic-output"></div>
                            </div>
                        </div>

                        <div id="arrow-functions-advanced" class="example-tab-content">
                            <div class="code-example">
                                <div class="code-header">
                                    <span class="code-title">Uso con Arrays y Objetos</span>
                                    <button class="btn btn-sm btn-primary" onclick="runCode('arrow-functions-advanced-code')">
                                        <i class="fas fa-play"></i> Ejecutar
                                    </button>
                                </div>
                                <div class="code-block">
                                    <pre><code class="language-javascript" id="arrow-functions-advanced-code">const numeros = [1, 2, 3, 4, 5];
const personas = [
    { nombre: "Ana", edad: 25 },
    { nombre: "Carlos", edad: 30 },
    { nombre: "María", edad: 28 }
];

// Map con arrow function
const cuadrados = numeros.map(n => n * n);

// Filter con arrow function
const pares = numeros.filter(n => n % 2 === 0);

// Reduce con arrow function
const suma = numeros.reduce((acc, n) => acc + n, 0);

// Find con arrow function
const mayor = numeros.find(n => n > 3);

// Sort con arrow function
const ordenados = personas.sort((a, b) => a.edad - b.edad);

console.log("Cuadrados:", cuadrados);
console.log("Pares:", pares);
console.log("Suma total:", suma);
console.log("Mayor que 3:", mayor);
console.log("Ordenados por edad:", ordenados);</code></pre>
                                </div>
                                <div class="code-output" id="arrow-functions-advanced-output"></div>
                            </div>
                        </div>

                        <div id="arrow-functions-interactive" class="example-tab-content">
                            <div class="interactive-example">
                                <h4>🎮 Crea tu Arrow Function</h4>
                                <div class="interactive-content">
                                    <div class="input-group">
                                        <label>Operación:</label>
                                        <select id="interactive-operation">
                                            <option value="sum">Sumar</option>
                                            <option value="multiply">Multiplicar</option>
                                            <option value="power">Elevar al cuadrado</option>
                                            <option value="filter">Filtrar pares</option>
                                        </select>
                                    </div>
                                    <div class="input-group">
                                        <label>Números (separados por comas):</label>
                                        <input type="text" id="interactive-numbers" placeholder="1,2,3,4,5" value="1,2,3,4,5">
                                    </div>
                                    <button class="btn btn-primary" onclick="createArrowFunction()">
                                        <i class="fas fa-magic"></i> Crear Función
                                    </button>
                                    <div class="interactive-output" id="interactive-output"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lesson-summary">
                    <h4>📝 Resumen</h4>
                    <div class="summary-content">
                        <p>En esta lección aprendiste sobre:</p>
                        <ul>
                            <li>La sintaxis concisa de arrow functions</li>
                            <li>Return implícito en expresiones simples</li>
                            <li>Uso con métodos de array (map, filter, reduce)</li>
                            <li>Diferencias importantes con funciones tradicionales</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Lección 3: Template Literals -->
    <section id="template-literals" class="lesson-section" data-lesson="template-literals">
        <div class="container">
            <div class="lesson-header">
                <div class="lesson-badge">
                    <i class="fas fa-quote-left"></i>
                    <span>Lección 3</span>
                </div>
                <h2>Template Literals</h2>
                <p class="lesson-intro">La forma moderna de trabajar con strings. Interpolación, multilínea y expresiones embebidas.</p>
                
                <div class="key-points">
                    <h4>🎯 Puntos Clave</h4>
                    <div class="key-points-grid">
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Interpolación de variables</span>
                        </div>
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Strings multilínea</span>
                        </div>
                        <div class="key-point">
                            <i class="fas fa-lightbulb"></i>
                            <span>Expresiones embebidas</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lesson-content">
                <div class="theory-section">
                    <div class="section-toggle" onclick="toggleSection('template-literals-theory')">
                        <h3><i class="fas fa-book"></i> Teoría</h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div id="template-literals-theory" class="theory-content collapsed">
                        <div class="theory-grid">
                            <div class="theory-card">
                                <h4><i class="fas fa-quote-left"></i> Sintaxis Template Literals</h4>
                                <div class="theory-list">
                                    <div class="theory-item">
                                        <code>`texto`</code>
                                        <span>Backticks en lugar de comillas</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>${variable}</code>
                                        <span>Interpolación de variables</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>${expresion}</code>
                                        <span>Evaluación de expresiones</span>
                                    </div>
                                </div>
                            </div>

                            <div class="theory-card">
                                <h4><i class="fas fa-star"></i> Ventajas</h4>
                                <div class="theory-list">
                                    <div class="theory-item">
                                        <code>Legibilidad</code>
                                        <span>Código más limpio y claro</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>Multilínea</code>
                                        <span>Strings sin concatenación</span>
                                    </div>
                                    <div class="theory-item">
                                        <code>Flexibilidad</code>
                                        <span>Expresiones complejas</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="example-section">
                    <div class="section-toggle" onclick="toggleSection('template-literals-example')">
                        <h3><i class="fas fa-code"></i> Ejemplo Práctico</h3>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div id="template-literals-example" class="example-content collapsed">
                        <div class="example-tabs">
                            <button class="tab-btn active" onclick="showExampleTab('template-literals', 'basic')">Básico</button>
                            <button class="tab-btn" onclick="showExampleTab('template-literals', 'advanced')">Avanzado</button>
                            <button class="tab-btn" onclick="showExampleTab('template-literals', 'interactive')">Interactivo</button>
                        </div>

                        <div id="template-literals-basic" class="example-tab-content active">
                            <div class="code-example">
                                <div class="code-header">
                                    <span class="code-title">Interpolación Básica</span>
                                    <button class="btn btn-sm btn-primary" onclick="runCode('template-literals-basic-code')">
                                        <i class="fas fa-play"></i> Ejecutar
                                    </button>
                                </div>
                                <div class="code-block">
                                    <pre><code class="language-javascript" id="template-literals-basic-code">const nombre = "María";
const edad = 28;
const ciudad = "Barcelona";

// Forma tradicional (concatenación)
const mensajeTradicional = "Hola, me llamo " + nombre + 
    ", tengo " + edad + " años y vivo en " + ciudad + ".";

// Con template literals
const mensajeModerno = `Hola, me llamo ${nombre}, tengo ${edad} años y vivo en ${ciudad}.`;

// Con expresiones
const saludo = `¡Hola ${nombre}! El año que viene tendrás ${edad + 1} años.`;

// Multilínea
const carta = `
Estimado/a ${nombre},

Espero que estés bien en ${ciudad}.
Te escribo para informarte que...

Saludos cordiales,
El equipo
`;

console.log("Tradicional:", mensajeTradicional);
console.log("Moderno:", mensajeModerno);
console.log("Con expresiones:", saludo);
console.log("Carta:", carta);</code></pre>
                                </div>
                                <div class="code-output" id="template-literals-basic-output"></div>
                            </div>
                        </div>

                        <div id="template-literals-advanced" class="example-tab-content">
                            <div class="code-example">
                                <div class="code-header">
                                    <span class="code-title">Uso Avanzado</span>
                                    <button class="btn btn-sm btn-primary" onclick="runCode('template-literals-advanced-code')">
                                        <i class="fas fa-play"></i> Ejecutar
                                    </button>
                                </div>
                                <div class="code-block">
                                    <pre><code class="language-javascript" id="template-literals-advanced-code">// Función que genera HTML
function crearTarjetaUsuario(usuario) {
    return `
        <div class="usuario-card">
            <h3>${usuario.nombre}</h3>
            <p>Edad: ${usuario.edad} años</p>
            <p>Email: ${usuario.email}</p>
            <p>Activo: ${usuario.activo ? 'Sí' : 'No'}</p>
        </div>
    `;
}

// Función con template literals anidados
function generarReporte(datos) {
    const fecha = new Date().toLocaleDateString();
    const total = datos.reduce((sum, item) => sum + item.valor, 0);
    
    return `
        REPORTE - ${fecha}
        ===================
        Total de elementos: ${datos.length}
        Suma total: $${total.toFixed(2)}
        
        Detalles:
        ${datos.map(item => `- ${item.nombre}: $${item.valor}`).join('\n')}
    `;
}

// Uso de las funciones
const usuario = {
    nombre: "Carlos",
    edad: 30,
    email: "carlos@email.com",
    activo: true
};

const datos = [
    { nombre: "Producto A", valor: 100 },
    { nombre: "Producto B", valor: 200 },
    { nombre: "Producto C", valor: 150 }
];

console.log("Tarjeta usuario:", crearTarjetaUsuario(usuario));
console.log("Reporte:", generarReporte(datos));</code></pre>
                                </div>
                                <div class="code-output" id="template-literals-advanced-output"></div>
                            </div>
                        </div>

                        <div id="template-literals-interactive" class="example-tab-content">
                            <div class="interactive-example">
                                <h4>🎮 Generador de Mensajes</h4>
                                <div class="interactive-content">
                                    <div class="input-group">
                                        <label>Nombre:</label>
                                        <input type="text" id="interactive-name" placeholder="Tu nombre" value="Ana">
                                    </div>
                                    <div class="input-group">
                                        <label>Edad:</label>
                                        <input type="number" id="interactive-age" placeholder="Tu edad" value="25">
                                    </div>
                                    <div class="input-group">
                                        <label>Ciudad:</label>
                                        <input type="text" id="interactive-city" placeholder="Tu ciudad" value="Madrid">
                                    </div>
                                    <button class="btn btn-primary" onclick="generateMessage()">
                                        <i class="fas fa-magic"></i> Generar Mensaje
                                    </button>
                                    <div class="interactive-output" id="interactive-output"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lesson-summary">
                    <h4>📝 Resumen</h4>
                    <div class="summary-content">
                        <p>En esta lección aprendiste sobre:</p>
                        <ul>
                            <li>La sintaxis de template literals con backticks</li>
                            <li>Interpolación de variables con <code>${}</code></li>
                            <li>Creación de strings multilínea</li>
                            <li>Evaluación de expresiones dentro de strings</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ejercicios Prácticos -->
    <section class="exercises-section">
        <div class="container">
            <h2>💪 Ejercicios Prácticos</h2>
            <p class="section-description">Pon a prueba tus conocimientos con estos ejercicios prácticos de JavaScript moderno.</p>
            
            <div class="exercises-grid">
                <div class="exercise-card">
                    <div class="exercise-header">
                        <h3>Conversor de Funciones</h3>
                        <span class="difficulty beginner">Principiante</span>
                    </div>
                    <div class="exercise-content">
                        <p>Convierte las siguientes funciones tradicionales a arrow functions:</p>
                        <div class="exercise-requirements">
                            <h4>Requisitos:</h4>
                            <ul>
                                <li>Convertir función de suma</li>
                                <li>Convertir función de multiplicación</li>
                                <li>Convertir función de filtrado</li>
                                <li>Usar template literals para mostrar resultados</li>
                            </ul>
                        </div>
                        <button class="btn btn-outline" onclick="toggleCode('exercise1-solution')">
                            <i class="fas fa-eye"></i> Ver Solución
                        </button>
                        <div id="exercise1-solution" class="code-block" style="display: none;">
                            <pre><code class="language-javascript">// Funciones tradicionales
function sumar(a, b) {
    return a + b;
}

function multiplicar(x, y) {
    return x * y;
}

function filtrarPares(numeros) {
    return numeros.filter(function(n) {
        return n % 2 === 0;
    });
}

// Convertidas a arrow functions
const sumarArrow = (a, b) => a + b;
const multiplicarArrow = (x, y) => x * y;
const filtrarParesArrow = numeros => numeros.filter(n => n % 2 === 0);

// Uso con template literals
const a = 5, b = 3;
const numeros = [1, 2, 3, 4, 5, 6];

console.log(`Suma: ${sumarArrow(a, b)}`);
console.log(`Multiplicación: ${multiplicarArrow(a, b)}`);
console.log(`Pares: ${filtrarParesArrow(numeros)}`);</code></pre>
                        </div>
                    </div>
                </div>

                <div class="exercise-card">
                    <div class="exercise-header">
                        <h3>Generador de HTML</h3>
                        <span class="difficulty intermediate">Intermedio</span>
                    </div>
                    <div class="exercise-content">
                        <p>Crea una función que genere HTML usando template literals y arrow functions.</p>
                        <div class="exercise-requirements">
                            <h4>Requisitos:</h4>
                            <ul>
                                <li>Usar template literals para HTML</li>
                                <li>Arrow functions para procesar datos</li>
                                <li>Destructuring para extraer propiedades</li>
                                <li>Generar lista de productos</li>
                            </ul>
                        </div>
                        <button class="btn btn-outline" onclick="toggleCode('exercise2-solution')">
                            <i class="fas fa-eye"></i> Ver Solución
                        </button>
                        <div id="exercise2-solution" class="code-block" style="display: none;">
                            <pre><code class="language-javascript">const productos = [
    { id: 1, nombre: "Laptop", precio: 999, categoria: "Electrónicos" },
    { id: 2, nombre: "Mouse", precio: 25, categoria: "Accesorios" },
    { id: 3, nombre: "Teclado", precio: 75, categoria: "Accesorios" }
];

// Arrow function para crear tarjeta de producto
const crearTarjetaProducto = ({ nombre, precio, categoria }) => `
    <div class="producto-card">
        <h3>${nombre}</h3>
        <p class="precio">$${precio}</p>
        <p class="categoria">${categoria}</p>
    </div>
`;

// Arrow function para filtrar por categoría
const filtrarPorCategoria = (productos, categoria) => 
    productos.filter(producto => producto.categoria === categoria);

// Generar HTML
const productosAccesorios = filtrarPorCategoria(productos, "Accesorios");
const htmlAccesorios = productosAccesorios
    .map(crearTarjetaProducto)
    .join('\n');

console.log(htmlAccesorios);</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Navegación entre módulos -->
    <section class="module-navigation">
        <div class="container">
            <div class="nav-buttons">
                <a href="modulo1-fundamentos.html" class="btn btn-outline">
                    <i class="fas fa-arrow-left"></i> Módulo Anterior
                </a>
                <a href="index.html#modules" class="btn btn-primary">
                    <i class="fas fa-home"></i> Ver Todos los Módulos
                </a>
                <a href="modulo3-dom.html" class="btn btn-outline">
                    Siguiente Módulo <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>JavaScript Academy</h3>
                    <p>Aprende JavaScript desde cero hasta nivel profesional con ejemplos prácticos y ejercicios interactivos.</p>
                </div>
                <div class="footer-section">
                    <h4>Módulos</h4>
                    <ul>
                        <li><a href="modulo1-fundamentos.html">Fundamentos</a></li>
                        <li><a href="modulo2-moderno.html">JavaScript Moderno</a></li>
                        <li><a href="modulo3-dom.html">DOM Manipulation</a></li>
                        <li><a href="modulo4-asincrono.html">Programación Asíncrona</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Recursos</h4>
                    <ul>
                        <li><a href="index.html#projects">Proyectos</a></li>
                        <li><a href="index.html#resources">Recursos</a></li>
                        <li><a href="index.html#contact">Contacto</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 JavaScript Academy. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Estado del módulo
        let moduleProgress = 0;
        let completedLessons = new Set();
        let currentSection = 'let-const';

        // Funciones de progreso
        function updateProgress() {
            const totalLessons = 6;
            const progress = (completedLessons.size / totalLessons) * 100;
            moduleProgress = Math.round(progress);
            
            const progressFill = document.getElementById('moduleProgress');
            const progressPercentage = document.querySelector('.progress-percentage');
            
            if (progressFill) {
                progressFill.style.width = progress + '%';
            }
            if (progressPercentage) {
                progressPercentage.textContent = progress + '%';
            }
        }

        function markLessonComplete(lessonId) {
            completedLessons.add(lessonId);
            updateProgress();
            
            const navItem = document.querySelector(`[data-section="${lessonId}"]`);
            if (navItem) {
                const statusIcon = navItem.querySelector('.nav-item-status i');
                statusIcon.className = 'fas fa-check-circle';
                statusIcon.style.color = '#28a745';
            }
        }

        // Funciones de navegación
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggleIcon = section.previousElementSibling.querySelector('.toggle-icon');
            
            if (section.classList.contains('collapsed')) {
                section.classList.remove('collapsed');
                toggleIcon.style.transform = 'rotate(180deg)';
            } else {
                section.classList.add('collapsed');
                toggleIcon.style.transform = 'rotate(0deg)';
            }
        }

        function showExampleTab(lesson, tab) {
            const tabContents = document.querySelectorAll(`#${lesson}-example .example-tab-content`);
            const tabButtons = document.querySelectorAll(`#${lesson}-example .tab-btn`);
            
            tabContents.forEach(content => content.classList.remove('active'));
            tabButtons.forEach(button => button.classList.remove('active'));
            
            document.getElementById(`${lesson}-${tab}`).classList.add('active');
            event.target.classList.add('active');
        }

        // Funciones de código
        function runCode(codeId) {
            const codeElement = document.getElementById(codeId);
            const outputId = codeId.replace('-code', '-output');
            const outputElement = document.getElementById(outputId);
            
            if (!codeElement || !outputElement) return;
            
            const code = codeElement.textContent;
            
            const originalLog = console.log;
            let output = '';
            console.log = function(...args) {
                output += args.join(' ') + '\n';
                originalLog.apply(console, args);
            };
            
            try {
                eval(code);
                outputElement.innerHTML = `<pre class="output-content">${output || 'Código ejecutado correctamente'}</pre>`;
                outputElement.style.display = 'block';
            } catch (error) {
                outputElement.innerHTML = `<pre class="output-error">Error: ${error.message}</pre>`;
                outputElement.style.display = 'block';
            } finally {
                console.log = originalLog;
            }
        }

        // Funciones interactivas
        function testVariableScope() {
            const varType = document.getElementById('interactive-var-type').value;
            const varValue = document.getElementById('interactive-var-value').value;
            const output = document.getElementById('interactive-output');
            
            let result = '';
            
            try {
                if (varType === 'var') {
                    eval(`var testVar = "${varValue}";`);
                    result = `✅ Variable 'var' creada: ${testVar}`;
                } else if (varType === 'let') {
                    eval(`let testLet = "${varValue}";`);
                    result = `✅ Variable 'let' creada: ${testLet}`;
                } else if (varType === 'const') {
                    eval(`const testConst = "${varValue}";`);
                    result = `✅ Constante 'const' creada: ${testConst}`;
                }
            } catch (error) {
                result = `❌ Error: ${error.message}`;
            }
            
            output.innerHTML = `<div class="success">${result}</div>`;
        }

        function createArrowFunction() {
            const operation = document.getElementById('interactive-operation').value;
            const numbersInput = document.getElementById('interactive-numbers').value;
            const output = document.getElementById('interactive-output');
            
            const numbers = numbersInput.split(',').map(n => parseInt(n.trim()));
            
            let result = '';
            let arrowFunction = '';
            
            switch (operation) {
                case 'sum':
                    arrowFunction = 'const sumar = (arr) => arr.reduce((acc, n) => acc + n, 0);';
                    result = `Suma: ${numbers.reduce((acc, n) => acc + n, 0)}`;
                    break;
                case 'multiply':
                    arrowFunction = 'const multiplicar = (arr) => arr.reduce((acc, n) => acc * n, 1);';
                    result = `Multiplicación: ${numbers.reduce((acc, n) => acc * n, 1)}`;
                    break;
                case 'power':
                    arrowFunction = 'const elevar = (arr) => arr.map(n => n * n);';
                    result = `Cuadrados: [${numbers.map(n => n * n).join(', ')}]`;
                    break;
                case 'filter':
                    arrowFunction = 'const filtrarPares = (arr) => arr.filter(n => n % 2 === 0);';
                    result = `Pares: [${numbers.filter(n => n % 2 === 0).join(', ')}]`;
                    break;
            }
            
            output.innerHTML = `
                <div class="success">
                    <h5>✅ Arrow Function Creada:</h5>
                    <pre class="object-display">${arrowFunction}</pre>
                    <p><strong>Resultado:</strong> ${result}</p>
                </div>
            `;
        }

        function generateMessage() {
            const name = document.getElementById('interactive-name').value;
            const age = parseInt(document.getElementById('interactive-age').value);
            const city = document.getElementById('interactive-city').value;
            const output = document.getElementById('interactive-output');
            
            if (!name || !age || !city) {
                output.innerHTML = '<div class="error">Por favor, completa todos los campos</div>';
                return;
            }
            
            const message = `
                <div class="success">
                    <h5>✅ Mensaje Generado con Template Literals:</h5>
                    <div class="object-display">
Hola, me llamo ${name}, tengo ${age} años y vivo en ${city}.

El año que viene tendré ${age + 1} años.

¡Espero que estés bien en ${city}!
                    </div>
                </div>
            `;
            
            output.innerHTML = message;
        }

        // Observador de intersección para progreso
        function setupProgressObserver() {
            const lessons = document.querySelectorAll('.lesson-section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const lessonId = entry.target.dataset.lesson;
                        if (lessonId && !completedLessons.has(lessonId)) {
                            setTimeout(() => {
                                markLessonComplete(lessonId);
                            }, 3000);
                        }
                    }
                });
            }, { threshold: 0.5 });

            lessons.forEach(lesson => observer.observe(lesson));
        }

        // Navegación suave
        function setupSmoothNavigation() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        const sectionId = target.id;
                        if (sectionId) {
                            currentSection = sectionId;
                            updateNavigationState();
                        }
                    }
                });
            });
        }

        function updateNavigationState() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const activeItem = document.querySelector(`[data-section="${currentSection}"]`);
            if (activeItem) {
                activeItem.classList.add('active');
            }
        }

        function updateBreadcrumb() {
            const currentPage = document.getElementById('current-page');
            if (currentPage) {
                currentPage.textContent = 'JavaScript Moderno (ES6+)';
            }
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            updateBreadcrumb();
            setupSmoothNavigation();
            setupProgressObserver();
            Prism.highlightAll();
            updateNavigationState();
        });

        // Funciones globales
        window.toggleCode = function(codeId) {
            const codeBlock = document.getElementById(codeId);
            if (codeBlock.style.display === 'none') {
                codeBlock.style.display = 'block';
                Prism.highlightAll();
            } else {
                codeBlock.style.display = 'none';
            }
        };

        window.toggleSection = toggleSection;
        window.showExampleTab = showExampleTab;
        window.runCode = runCode;
        window.testVariableScope = testVariableScope;
        window.createArrowFunction = createArrowFunction;
        window.generateMessage = generateMessage;
    </script>

    <!-- Modales Explicativos - Lección 1: Let, Const y Var -->
    <div id="var-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('var-modal')">&times;</span>
            <h2><i class="fas fa-tag"></i> var - Declaración Clásica</h2>
            <div class="modal-body">
                <h3>¿Qué es var?</h3>
                <p><code>var</code> es la forma clásica de declarar variables en JavaScript. Aunque sigue funcionando, se recomienda usar <code>let</code> o <code>const</code> en código moderno.</p>
                
                <h3>Características de var:</h3>
                <ul>
                    <li><strong>Scope de función:</strong> La variable existe en toda la función donde se declara</li>
                    <li><strong>Hoisting:</strong> La declaración se eleva al inicio de la función</li>
                    <li><strong>Se puede redeclarar:</strong> Puedes declarar la misma variable múltiples veces</li>
                    <li><strong>Sin Temporal Dead Zone:</strong> Puedes usar la variable antes de declararla (valor undefined)</li>
                </ul>
                
                <h3>Ejemplo:</h3>
                <pre><code class="language-javascript">// Scope de función
function ejemplo() {
    console.log(x); // undefined (hoisting)
    var x = 10;
    
    if (true) {
        var y = 20; // Accesible fuera del if
    }
    console.log(y); // 20 - NO error
}

// Redeclaración
var nombre = "Ana";
var nombre = "Carlos"; // ✅ Permitido (pero confuso)</code></pre>
                
                <h3>Problemas de var:</h3>
                <pre><code class="language-javascript">// Problema 1: Scope confuso
for (var i = 0; i < 3; i++) {
    setTimeout(() => console.log(i), 1000);
}
// Imprime: 3, 3, 3 (no 0, 1, 2)

// Problema 2: Contaminación global
var x = 10;
if (true) {
    var x = 20; // ¡Sobrescribe la x externa!
}
console.log(x); // 20</code></pre>
                
                <h3>⚠️ Recomendación:</h3>
                <p>En código moderno ES6+, evita usar <code>var</code>. Usa <code>let</code> para variables que cambian y <code>const</code> para constantes.</p>
            </div>
        </div>
    </div>

    <div id="let-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('let-modal')">&times;</span>
            <h2><i class="fas fa-tag"></i> let - Declaración Moderna</h2>
            <div class="modal-body">
                <h3>¿Qué es let?</h3>
                <p><code>let</code> es la forma moderna de declarar variables en JavaScript ES6+. Tiene mejor scope y evita problemas de <code>var</code>.</p>
                
                <h3>Características de let:</h3>
                <ul>
                    <li><strong>Scope de bloque:</strong> La variable solo existe en el bloque {...} donde se declara</li>
                    <li><strong>No se puede redeclarar:</strong> Previene errores al intentar declarar dos veces</li>
                    <li><strong>Temporal Dead Zone (TDZ):</strong> No puedes usar la variable antes de declararla</li>
                    <li><strong>Valor reasignable:</strong> Puedes cambiar el valor de la variable</li>
                </ul>
                
                <h3>Ejemplo:</h3>
                <pre><code class="language-javascript">// Scope de bloque
let nombre = "Ana";

if (true) {
    let nombre = "Carlos"; // Variable diferente
    console.log(nombre); // "Carlos"
}

console.log(nombre); // "Ana"

// Reasignación permitida
let edad = 25;
edad = 26; // ✅ Permitido

// Redeclaración NO permitida
let x = 10;
// let x = 20; // ❌ Error: x ya está declarada</code></pre>
                
                <h3>Ventajas de let:</h3>
                <pre><code class="language-javascript">// Soluciona el problema del loop
for (let i = 0; i < 3; i++) {
    setTimeout(() => console.log(i), 1000);
}
// Imprime: 0, 1, 2 ✅

// Scope de bloque
{
    let privada = "Solo aquí";
    console.log(privada); // "Solo aquí"
}
// console.log(privada); // ❌ Error: no definida</code></pre>
                
                <h3>Cuándo usar let:</h3>
                <ul>
                    <li>Cuando el valor de la variable va a cambiar</li>
                    <li>Para contadores de loops</li>
                    <li>Para variables que se reasignan</li>
                </ul>
                
                <h3>⚠️ Temporal Dead Zone:</h3>
                <pre><code class="language-javascript">// console.log(x); // ❌ Error: TDZ
let x = 10; // Aquí termina la TDZ
console.log(x); // ✅ 10</code></pre>
            </div>
        </div>
    </div>

    <div id="const-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('const-modal')">&times;</span>
            <h2><i class="fas fa-tag"></i> const - Constantes</h2>
            <div class="modal-body">
                <h3>¿Qué es const?</h3>
                <p><code>const</code> declara constantes en JavaScript ES6+. Una vez asignado, el valor NO se puede reasignar.</p>
                
                <h3>Características de const:</h3>
                <ul>
                    <li><strong>Scope de bloque:</strong> Como let, solo existe en su bloque</li>
                    <li><strong>No se puede reasignar:</strong> El valor no cambia después de la asignación inicial</li>
                    <li><strong>Debe inicializarse:</strong> Debes asignar un valor al declarar</li>
                    <li><strong>Temporal Dead Zone (TDZ):</strong> Como let, no puedes usarla antes de declararla</li>
                </ul>
                
                <h3>Ejemplo Básico:</h3>
                <pre><code class="language-javascript">// Declaración e inicialización
const PI = 3.14159;
const NOMBRE = "Ana";

// Reasignación NO permitida
// PI = 3.14; // ❌ Error: no se puede reasignar

// Debe inicializarse
// const x; // ❌ Error: falta inicialización
const x = 10; // ✅ Correcto</code></pre>
                
                <h3>⚠️ Importante - Objetos y Arrays:</h3>
                <p>Con objetos y arrays, <code>const</code> NO hace que el contenido sea inmutable, solo la referencia.</p>
                <pre><code class="language-javascript">// Objeto con const
const usuario = {
    nombre: "Ana",
    edad: 25
};

// ✅ Puedes modificar propiedades
usuario.edad = 26;
usuario.ciudad = "Madrid";
console.log(usuario); // { nombre: "Ana", edad: 26, ciudad: "Madrid" }

// ❌ NO puedes reasignar el objeto
// usuario = {}; // Error!

// Array con const
const numeros = [1, 2, 3];

// ✅ Puedes modificar el contenido
numeros.push(4);
numeros[0] = 10;
console.log(numeros); // [10, 2, 3, 4]

// ❌ NO puedes reasignar el array
// numeros = []; // Error!</code></pre>
                
                <h3>Inmutabilidad Real:</h3>
                <p>Si necesitas que el contenido también sea inmutable:</p>
                <pre><code class="language-javascript">// Object.freeze() para inmutabilidad
const config = Object.freeze({
    API_URL: "https://api.example.com",
    VERSION: "1.0.0"
});

// Intentar modificar no causa error, simplemente no funciona
config.API_URL = "otro"; // Silenciosamente ignorado
console.log(config.API_URL); // "https://api.example.com"</code></pre>
                
                <h3>Cuándo usar const:</h3>
                <ul>
                    <li><strong>Por defecto:</strong> Usa const siempre que puedas</li>
                    <li>Para valores que no deben cambiar</li>
                    <li>Para objetos y arrays (aunque su contenido cambie)</li>
                    <li>Para funciones declaradas</li>
                    <li>Para imports de módulos</li>
                </ul>
                
                <h3>⚠️ Buena Práctica:</h3>
                <p><strong>Regla general:</strong> Usa <code>const</code> por defecto. Solo usa <code>let</code> si realmente necesitas reasignar la variable.</p>
            </div>
        </div>
    </div>

    <div id="hoisting-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('hoisting-modal')">&times;</span>
            <h2><i class="fas fa-arrow-up"></i> Hoisting</h2>
            <div class="modal-body">
                <h3>¿Qué es Hoisting?</h3>
                <p><strong>Hoisting</strong> (elevación) es un comportamiento de JavaScript donde las declaraciones de variables y funciones se "mueven" al inicio de su scope antes de la ejecución del código.</p>
                
                <h3>Hoisting con var:</h3>
                <pre><code class="language-javascript">console.log(x); // undefined (no error)
var x = 10;
console.log(x); // 10

// JavaScript lo interpreta así:
var x; // Declaración elevada
console.log(x); // undefined
x = 10; // Asignación permanece aquí
console.log(x); // 10</code></pre>
                
                <h3>Hoisting con let y const:</h3>
                <p>Con <code>let</code> y <code>const</code>, las declaraciones también se elevan PERO entran en la <strong>Temporal Dead Zone (TDZ)</strong>.</p>
                <pre><code class="language-javascript">// console.log(y); // ❌ ReferenceError: Cannot access 'y' before initialization
let y = 20;

// console.log(z); // ❌ ReferenceError: Cannot access 'z' before initialization
const z = 30;</code></pre>
                
                <h3>Hoisting de Funciones:</h3>
                <pre><code class="language-javascript">// ✅ Las funciones declaradas se elevan completamente
saludar(); // "¡Hola!" - Funciona

function saludar() {
    console.log("¡Hola!");
}

// ❌ Las funciones expresadas NO se elevan
// despedir(); // Error: despedir no es una función
const despedir = function() {
    console.log("¡Adiós!");
};</code></pre>
                
                <h3>Ejemplo Completo:</h3>
                <pre><code class="language-javascript">// Código escrito
console.log(nombre); // undefined
var nombre = "Ana";

// console.log(edad); // Error: TDZ
let edad = 25;

saludar(); // "Hola"

function saludar() {
    console.log("Hola");
}

// JavaScript lo interpreta así:
var nombre; // var elevada
function saludar() { // función elevada
    console.log("Hola");
}

console.log(nombre); // undefined
nombre = "Ana";

let edad; // let elevada PERO en TDZ
// console.log(edad); // Error: TDZ
edad = 25;</code></pre>
                
                <h3>Comparación:</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <tr style="background: #f8f9fa;">
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">Declaración</th>
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">Hoisting</th>
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">Valor antes de declaración</th>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>var</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Sí</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>undefined</code></td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>let</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Sí (TDZ)</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">❌ ReferenceError</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>const</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Sí (TDZ)</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">❌ ReferenceError</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>function</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Completamente</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Función completa</td>
                    </tr>
                </table>
                
                <h3>⚠️ Buena Práctica:</h3>
                <ul>
                    <li>Declara variables al inicio de su scope</li>
                    <li>Usa <code>let</code> y <code>const</code> en lugar de <code>var</code></li>
                    <li>No confíes en hoisting - declara antes de usar</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="tdz-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('tdz-modal')">&times;</span>
            <h2><i class="fas fa-skull-crossbones"></i> Temporal Dead Zone (TDZ)</h2>
            <div class="modal-body">
                <h3>¿Qué es la Temporal Dead Zone?</h3>
                <p>La <strong>Temporal Dead Zone (TDZ)</strong> es el período entre el inicio del scope y la línea donde se declara una variable <code>let</code> o <code>const</code>. Durante este período, NO puedes acceder a la variable.</p>
                
                <h3>Visualización de la TDZ:</h3>
                <pre><code class="language-javascript">{
    // ⚠️ TDZ empieza aquí
    console.log(x); // ❌ ReferenceError
    console.log(y); // ❌ ReferenceError
    
    let x = 10; // ✅ TDZ de x termina aquí
    console.log(x); // ✅ 10
    
    const y = 20; // ✅ TDZ de y termina aquí
    console.log(y); // ✅ 20
}</code></pre>
                
                <h3>Diferencia con var:</h3>
                <pre><code class="language-javascript">// Con var - NO hay TDZ
console.log(a); // undefined (no error)
var a = 10;

// Con let - SÍ hay TDZ
// console.log(b); // ❌ ReferenceError
let b = 20;

// Con const - SÍ hay TDZ
// console.log(c); // ❌ ReferenceError
const c = 30;</code></pre>
                
                <h3>TDZ en Funciones:</h3>
                <pre><code class="language-javascript">function ejemplo() {
    // TDZ de x empieza aquí
    
    // console.log(x); // ❌ Error
    
    if (true) {
        // console.log(x); // ❌ Error - todavía en TDZ
        let x = 10; // TDZ termina
        console.log(x); // ✅ 10
    }
    
    // console.log(x); // ❌ Error - fuera de scope
}</code></pre>
                
                <h3>TDZ con typeof:</h3>
                <p>Algo interesante: <code>typeof</code> también falla en la TDZ.</p>
                <pre><code class="language-javascript">// Con var
console.log(typeof varVariable); // "undefined"
var varVariable = 10;

// Con let - TDZ
// console.log(typeof letVariable); // ❌ ReferenceError
let letVariable = 20;

// Variable nunca declarada
console.log(typeof nuncaDeclarada); // "undefined" (no error)</code></pre>
                
                <h3>TDZ en Parámetros por Defecto:</h3>
                <pre><code class="language-javascript">// Ejemplo complejo de TDZ
function ejemplo(a = b, b = 2) {
    // ❌ Error: b está en TDZ cuando se evalúa a
    console.log(a, b);
}

// ejemplo(undefined, 3); // ReferenceError

// Solución
function ejemplo2(b = 2, a = b) {
    // ✅ Funciona: b ya está declarada cuando se evalúa a
    console.log(a, b);
}

ejemplo2(); // 2, 2</code></pre>
                
                <h3>¿Por qué existe la TDZ?</h3>
                <ul>
                    <li><strong>Prevenir errores:</strong> Detecta errores de usar variables antes de declararlas</li>
                    <li><strong>Código más claro:</strong> Fuerza a declarar variables en orden lógico</li>
                    <li><strong>Consistencia:</strong> Hace que const sea realmente constante desde su inicio</li>
                </ul>
                
                <h3>Ejemplo Práctico:</h3>
                <pre><code class="language-javascript">// Problema que TDZ previene
let x = 10;

function prueba() {
    // Sin TDZ, esto mostraría 10 (la x global)
    // Con TDZ, esto da error (la x local está en TDZ)
    // console.log(x); // ❌ ReferenceError
    
    let x = 20; // x local
    console.log(x); // 20
}

prueba();</code></pre>
                
                <h3>⚠️ Buenas Prácticas:</h3>
                <ul>
                    <li>Declara variables al principio de su scope</li>
                    <li>No intentes usar variables antes de declararlas</li>
                    <li>El linter te avisará de errores de TDZ</li>
                </ul>
                
                <h3>Resumen:</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <tr style="background: #f8f9fa;">
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;"></th>
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">var</th>
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">let/const</th>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><strong>TDZ</strong></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">❌ No</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Sí</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><strong>Valor antes de declaración</strong></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">undefined</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">ReferenceError</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><strong>typeof antes de declaración</strong></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">"undefined"</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">ReferenceError</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div id="scope-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('scope-modal')">&times;</span>
            <h2><i class="fas fa-layer-group"></i> Scope: Bloque vs Función</h2>
            <div class="modal-body">
                <h3>¿Qué es el Scope?</h3>
                <p>El <strong>scope</strong> (ámbito) es la región del código donde una variable es accesible. JavaScript tiene principalmente dos tipos de scope para variables: <strong>function scope</strong> y <strong>block scope</strong>.</p>
                
                <h3>Function Scope (var):</h3>
                <p><code>var</code> tiene <strong>function scope</strong>: la variable existe en toda la función donde se declara.</p>
                <pre><code class="language-javascript">function ejemplo() {
    if (true) {
        var x = 10; // Declarada en el if
    }
    console.log(x); // ✅ 10 - Accesible fuera del if
}

ejemplo();

// Fuera de la función
// console.log(x); // ❌ Error: x no existe fuera de la función</code></pre>
                
                <h3>Block Scope (let y const):</h3>
                <p><code>let</code> y <code>const</code> tienen <strong>block scope</strong>: la variable solo existe en el bloque <code>{...}</code> donde se declara.</p>
                <pre><code class="language-javascript">function ejemplo() {
    if (true) {
        let y = 20; // Declarada en el bloque if
        const z = 30;
        console.log(y, z); // ✅ 20, 30
    }
    // console.log(y); // ❌ Error: y no existe fuera del if
    // console.log(z); // ❌ Error: z no existe fuera del if
}

ejemplo();</code></pre>
                
                <h3>Comparación Visual:</h3>
                <pre><code class="language-javascript">function comparacion() {
    console.log("=== Function Scope (var) ===");
    if (true) {
        var funcionScope = "Accesible en toda la función";
    }
    console.log(funcionScope); // ✅ Funciona
    
    console.log("=== Block Scope (let/const) ===");
    if (true) {
        let bloqueScope = "Solo en este bloque";
    }
    // console.log(bloqueScope); // ❌ Error
}</code></pre>
                
                <h3>Scope en Loops:</h3>
                <pre><code class="language-javascript">// Con var - function scope
for (var i = 0; i < 3; i++) {
    setTimeout(() => console.log("var:", i), 1000);
}
// Imprime: var: 3, var: 3, var: 3
// (i es la misma variable en todos los callbacks)

// Con let - block scope
for (let j = 0; j < 3; j++) {
    setTimeout(() => console.log("let:", j), 1000);
}
// Imprime: let: 0, let: 1, let: 2
// (cada iteración tiene su propia j)</code></pre>
                
                <h3>Bloques Anidados:</h3>
                <pre><code class="language-javascript">function anidados() {
    let exterior = "Outer";
    
    if (true) {
        let medio = "Middle";
        console.log(exterior); // ✅ Accesible
        
        {
            let interior = "Inner";
            console.log(exterior); // ✅ Accesible
            console.log(medio); // ✅ Accesible
            console.log(interior); // ✅ Accesible
        }
        
        // console.log(interior); // ❌ No accesible
    }
    
    // console.log(medio); // ❌ No accesible
}</code></pre>
                
                <h3>Global Scope:</h3>
                <pre><code class="language-javascript">// Scope global
var globalVar = "Global var"; // Propiedad de window
let globalLet = "Global let"; // NO es propiedad de window
const globalConst = "Global const"; // NO es propiedad de window

console.log(window.globalVar); // "Global var"
console.log(window.globalLet); // undefined
console.log(window.globalConst); // undefined

// Todos son accesibles globalmente
console.log(globalVar, globalLet, globalConst);</code></pre>
                
                <h3>Ejemplo Práctico - Problema Clásico:</h3>
                <pre><code class="language-javascript">// ❌ Problema con var
var botones = [];
for (var i = 0; i < 3; i++) {
    botones.push(function() {
        console.log("Botón", i);
    });
}

botones.forEach(boton => boton());
// Imprime: Botón 3, Botón 3, Botón 3

// ✅ Solución con let
var botones2 = [];
for (let i = 0; i < 3; i++) {
    botones2.push(function() {
        console.log("Botón", i);
    });
}

botones2.forEach(boton => boton());
// Imprime: Botón 0, Botón 1, Botón 2</code></pre>
                
                <h3>Ámbitos de JavaScript:</h3>
                <ul>
                    <li><strong>Global Scope:</strong> Variables accesibles en todo el programa</li>
                    <li><strong>Function Scope:</strong> Variables accesibles en toda la función (var)</li>
                    <li><strong>Block Scope:</strong> Variables accesibles solo en el bloque (let/const)</li>
                    <li><strong>Module Scope:</strong> Variables accesibles solo en el módulo ES6</li>
                </ul>
                
                <h3>Resumen Comparativo:</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <tr style="background: #f8f9fa;">
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">Declaración</th>
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">Scope</th>
                        <th style="padding: 0.5rem; border: 1px solid #dee2e6;">Disponible en bloques</th>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>var</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">Function</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">✅ Sí (traspasa bloques)</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>let</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">Block</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">❌ No (limitado al bloque)</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;"><code>const</code></td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">Block</td>
                        <td style="padding: 0.5rem; border: 1px solid #dee2e6;">❌ No (limitado al bloque)</td>
                    </tr>
                </table>
                
                <h3>⚠️ Buenas Prácticas:</h3>
                <ul>
                    <li>Usa <code>let</code> y <code>const</code> para tener control preciso del scope</li>
                    <li>Declara variables en el scope más pequeño posible</li>
                    <li>Evita contaminar el scope global</li>
                    <li>Usa bloques <code>{...}</code> para crear scopes privados cuando sea necesario</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
